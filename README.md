# Formula1 Data Analysis
## Overview
This project aims to analyze race and weather data from 2018 to 2022 using machine learning models to predict race position categories: Podium Finishes (1st - 3rd position), Finish in Points (4th - 10th position), or Other positions (10th - 20th position), for drivers for all races in 2023.

---

## Table of Contents
1. [Setup Instructions](#setup-instructions)
2. [Scripts Overview](#scripts-overview)
   - [extract_race_calendar.py](#extract_race_calendarpy)
   - [extract_pit_stop_data.py](#extract_pit_stop_datapy)
   - [extract_qualifying_results.py](#extract_qualifying_resultspy)
   - [extract_driver_info.py](#extract_driver_infopy)
   - [extract_driver_statistics.py](#extract_driver_statisticspy)
   - [extract_race_results.py](#extract_race_resultspy)
   - [calculate_driver_error.py](#calculate_driver_errorpy)
   - [extract_weather_data.py](#extract_weather_datapy)
   - [calculate_constructor_error.py](#calculate_constructor_errorpy)
   - [merge_data.py](#merge_datapy)
   - [preprocessing_data.py](#preprocessing_datapy)
   - [ML_New_Classification.py](#ML_New_Classification.py)

## Setup Instructions
1. **Install Required Libraries**:
   Run the following command to install dependencies:
   ```bash
   pip install pandas requests fastf1

## Scripts Overview

**extract_race_calendar.py**

- **Required Libraries:** pandas, requests  

- This program uses the Ergast API to fetch the season schedule for the races in the year 2018 to 2023.

- The output for this program will be stored in data/raw/season_schedule directory.

- This can be run with:
- ``` bash
  python3 extract_race_calendar.py
  ```
**extract_pit_stop_data.py**

- **Required Libraries:** pandas, os, requests

- This program uses the Ergast API to fetch the average pit stop times along with its standard deviation for each race and driver.

- The output for this program will be stored in data/raw/pit_stops_data directory.

- **Note:** Please run the extract_race_calendar.py before this as it uses the output files generated by it.

- This can be run with:
- ``` bash
  python3 extract_pit_stop_data.py
  ```

**extract_qualifying_results.py**

- **Required Libraries:** pandas, requests

- This program uses the Ergast API to fetch the data for qualification races held before the actual races for years 2018 to 2023.

- The output for this program will be stored in data/raw/quali_data directory.

- **Note:** Please run the extract_race_calendar.py before this as it uses the output files generated by it.

- This can be run with:
- ``` bash
  python3 extract_qualifying_results.py
  ```

**extract_driver_info.py**

- **Required Libraries:** pandas, requests

- This program uses the Ergast API to fetch the data for all the drivers in the year 2018 to 2023.

- The output for this program will be stored in data/raw/driver_data directory.

- This can be run with:
- ``` bash
  python3 extract_driver_info.py
    ```
**extract_driver_statistics.py**
- **Required Libraries:** pandas, requests

- This program uses the Ergast API to fetch the total wins before 2017 and season wins along with season points for year 2018 to 2023 for all drivers.

- The output for this program will be stored in data/raw/driver_data directory.

- **Note:** Please run the extract_driver_info.py before this as it uses the output files generated by it.

- This can be run with:
- ``` bash
  python3 extract_driver_statistics.py
    ```
**extract_race_results.py**
- **Required Libraries:** pandas, requests

- This program uses the Ergast API to fetch the data for all races between the years 2018 to 2023.

- The output for this program will be stored in data/raw/race_data directory.

- **Note:** Please run the extract_driver_statistics.py before this as it uses the output files generated by it.

- This can be run with:
- ``` bash
  python3 extract_race_results.py
    ```
**calculate_driver_error.py**

- **Required Libraries:** pandas, requests

- This program calculates the metric Probability of Error for each driver.

- The output for this program will be stored in data/raw/race_error directory.

- **Note:** Please run the extract_race_results.py before this as it uses the output files generated by it.

- This can be run with:
- ``` bash
  python3 calculate_driver_error.py
    ```
**extract_weather_data.py**

- **Required Libraries:** pandas, fastf1

- This program uses fastf1, a python package to get the average weather data for the day of the race.

- The output for this program will be stored in data/raw/weather_data directory.

- This can be run with:
- ``` bash
  python3 extract_weather_data.py
    ```

**calculate_constructor_error.py**

- **Required Libraries:** pandas, os
- This program calculates the metric Constructor Confidence which is an important feature in our analysis.
- The output for this program will be stored in data/raw/race_error directory.
- **Note:** Please run the extract_race_results.py and extract_pit_stop_data.py before this as it uses the output files generated by it.
- This can be run with:
- ``` bash
  python3 calculate_constructor_error.py
    ```

**merge_data.py**
- **Required Libraries:** pandas
- This program merges all the data in one dataset to preprocess.
- The output for this program will be stored in data/processed/merged_data directory.
- **Note:** Please run all the files mentioned before this to get output.
- This can be run with:
- ``` bash
  python3 merge_data.py
    ```
**preprocessing_data.py**

- **Required Libraries:** pandas, sklearn.preprocessing
- This program preprocesses the merged dataset.
- The output for this program will be stored in data/processed/merged_data directory.
- **Note:** Please run the merge_data.py before this.
- This can be run with:
- ``` bash
  python3 preprocessing_data.py
    ```

**ML_New_Classification.py**

- **Required Libraries:** pandas, sklearn.ensemble, sklearn.metrics, sklearn.neighbors, sklearn.svm, sklearn.tree
- BEFORE YOU RUN: create a directory called ML_Outputs
- This program is the main code that trains a voting classifier on preprocessed merged dataset and checks its accuracy on the dataset for 2023.
- **Note:** Please run all the files before this to get the output.
- This can be run with:
- ``` bash
  python3 ML_New_Classification.py
    ```






